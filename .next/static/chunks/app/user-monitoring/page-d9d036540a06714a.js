(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{5468:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(5155),s=a(6842),l=a(2115),n=a(9119);function d(){let[e,t]=l.useState([]),[a,d]=l.useState(!0),[c,i]=l.useState(null),[o,x]=l.useState("asc"),m=async()=>{try{let e=await fetch("/api/get_list_users",{method:"GET",headers:{"Content-Type":"application/json"}}),a=(await e.json()).map(e=>({username:e.username,upload:Number(e.total_tx),download:Number(e.total_rx),total_traffic:Number(e.total_traffic),last_view:new Date(e.last_online)}));t(a)}catch(e){console.error("Error fetching data:",e)}finally{d(!1)}};l.useEffect(()=>{m();let e=setInterval(m,12e4);return()=>clearInterval(e)},[]);let h=l.useMemo(()=>c?[...e].sort((e,t)=>{let a=e[c],r=t[c];return a instanceof Date&&r instanceof Date?"asc"===o?a.getTime()-r.getTime():r.getTime()-a.getTime():"string"==typeof a&&"string"==typeof r?"asc"===o?a.localeCompare(r):r.localeCompare(a):"number"==typeof a&&"number"==typeof r?"asc"===o?a-r:r-a:0}):e,[e,c,o]);return(0,r.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Users"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:[(0,r.jsxs)("svg",{className:"stroke-current fill-white dark:fill-gray-800",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M2.29004 5.90393H17.7067",stroke:"",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M17.7075 14.0961H2.29085",stroke:"",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12.0826 3.33331C13.5024 3.33331 14.6534 4.48431 14.6534 5.90414C14.6534 7.32398 13.5024 8.47498 12.0826 8.47498C10.6627 8.47498 9.51172 7.32398 9.51172 5.90415C9.51172 4.48432 10.6627 3.33331 12.0826 3.33331Z",fill:"",stroke:"",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M7.91745 11.525C6.49762 11.525 5.34662 12.676 5.34662 14.0959C5.34661 15.5157 6.49762 16.6667 7.91745 16.6667C9.33728 16.6667 10.4883 15.5157 10.4883 14.0959C10.4883 12.676 9.33728 11.525 7.91745 11.525Z",fill:"",stroke:"",strokeWidth:"1.5"})]}),"Filter"]}),(0,r.jsx)("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"See all"})]})]}),(0,r.jsx)("div",{className:"max-w-full overflow-x-auto",children:(0,r.jsxs)(s.XI,{children:[(0,r.jsx)(s.A0,{className:"border-gray-100 dark:border-gray-800 border-y",children:(0,r.jsxs)(s.Hj,{children:[(0,r.jsx)(s.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"No."}),(0,r.jsxs)(s.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{console.log(c,o),i("username"),x(e=>"asc"===e?"desc":"asc")},children:["Username ","username"===c&&("asc"===o?"↑":"↓")]}),(0,r.jsxs)(s.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{i("upload"),x(e=>"asc"===e?"desc":"asc")},children:["Upload ","upload"===c&&("asc"===o?"↑":"↓")]}),(0,r.jsxs)(s.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{i("download"),x(e=>"asc"===e?"desc":"asc")},children:["Download ","download"===c&&("asc"===o?"↑":"↓")]}),(0,r.jsxs)(s.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{i("total_traffic"),x(e=>"asc"===e?"desc":"asc")},children:["Total Traffic ","total_traffic"===c&&("asc"===o?"↑":"↓")]}),(0,r.jsxs)(s.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{console.log(c,o),i("last_view"),x(e=>"asc"===e?"desc":"asc")},children:["Last Seen ","last_view"===c&&("asc"===o?"↑":"↓")]})]})}),(0,r.jsx)(s.BF,{className:"divide-y divide-gray-100 dark:divide-gray-800",children:h.map((e,t)=>(0,r.jsxs)(s.Hj,{className:"",children:[(0,r.jsxs)(s.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:[t+1,"."]}),(0,r.jsx)(s.nA,{className:"py-3",children:(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:e.username})})})}),(0,r.jsx)(s.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(0,n.z)(e.upload)}),(0,r.jsx)(s.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(0,n.z)(e.download)}),(0,r.jsx)(s.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(0,n.z)(e.total_traffic)}),(0,r.jsx)(s.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:function(e){let t=new Date,a=e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate(),r=e=>e.toString().padStart(2,"0"),s=r(e.getUTCHours()),l=r(e.getUTCMinutes()),n=r(e.getUTCSeconds());if(a)return"".concat(s,":").concat(l,":").concat(n);let d=e.getUTCFullYear(),c=r(e.getUTCMonth()+1),i=r(e.getUTCDate());return"".concat(d,"-").concat(c,"-").concat(i," ").concat(s,":").concat(l,":").concat(n)}(e.last_view)})]},t))})]})})]})}},6842:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>n,Hj:()=>d,XI:()=>s,nA:()=>c});var r=a(5155);a(2115);let s=e=>{let{children:t,className:a}=e;return(0,r.jsx)("table",{className:"min-w-full  ".concat(a),children:t})},l=e=>{let{children:t,className:a}=e;return(0,r.jsx)("thead",{className:a,children:t})},n=e=>{let{children:t,className:a}=e;return(0,r.jsx)("tbody",{className:a,children:t})},d=e=>{let{children:t,className:a}=e;return(0,r.jsx)("tr",{className:a,children:t})},c=e=>{let{children:t,isHeader:a=!1,className:s,onClick:l}=e,n=a?"th":"td";return l?(0,r.jsx)(n,{className:"cursor-pointer ".concat(s),onClick:l,children:t}):(0,r.jsx)(n,{className:" ".concat(s),children:t})}},9119:(e,t,a)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e>=0x10000000000?(e/0x10000000000).toFixed(t)+" TiB":e>=0x40000000?(e/0x40000000).toFixed(t)+" GiB":e>=1048576?(e/1048576).toFixed(t)+" MiB":e>=1024?(e/1024).toFixed(t)+" KiB":e+" B"}a.d(t,{z:()=>r})},9585:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.bind(a,5468))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(9585)),_N_E=e.O()}]);