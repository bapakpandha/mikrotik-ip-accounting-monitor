(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{962:(e,t,r)=>{"use strict";r.d(t,{default:()=>T});var s=r(5155),a=r(6842),i=r(2115),n=r(9119);let l=e=>[...new Set(e)],o=(e,t)=>e.filter(e=>!t.includes(e)),h=(e,t)=>e.filter(e=>t.includes(e)),d=e=>"bigint"==typeof e||!Number.isNaN(Number(e))&&Math.floor(Number(e))===e,c=e=>"bigint"==typeof e||e>=0&&Number.isSafeInteger(e);function g(e,t){let r;if(0===t.length)return e;let s=[...e];for(let e=s.length-1,a=0,i=0;e>0;e--,a++){a%=t.length,i+=r=t[a].codePointAt(0);let n=(r+a+i)%e,l=s[e],o=s[n];s[n]=l,s[e]=o}return s}let u=(e,t)=>{let r=[],s=e;if("bigint"==typeof s){let e=BigInt(t.length);do r.unshift(t[Number(s%e)]),s/=e;while(s>BigInt(0))}else do r.unshift(t[s%t.length]),s=Math.floor(s/t.length);while(s>0);return r},m=(e,t)=>e.reduce((r,s)=>{let a=t.indexOf(s);if(-1===a)throw Error(`The provided ID (${e.join("")}) is invalid, as it contains characters that do not exist in the alphabet (${t.join("")})`);if("bigint"==typeof r)return r*BigInt(t.length)+BigInt(a);let i=r*t.length+a;return Number.isSafeInteger(i)?i:(v("Unable to decode the provided string, due to lack of support for BigInt numbers in the current environment"),BigInt(r)*BigInt(t.length)+BigInt(a))},0),p=/^\+?\d+$/,x=e=>{if(!p.test(e))return Number.NaN;let t=Number.parseInt(e,10);return Number.isSafeInteger(t)?t:(v("Unable to encode the provided BigInt string without loss of information due to lack of support for BigInt type in the current environment"),BigInt(e))},f=(e,t,r)=>Array.from({length:Math.ceil(e.length/t)},(s,a)=>r(e.slice(a*t,(a+1)*t))),y=e=>new RegExp(e.map(e=>j(e)).sort((e,t)=>t.length-e.length).join("|")),b=e=>RegExp(`^[${e.map(e=>j(e)).sort((e,t)=>t.length-e.length).join("")}]+$`),j=e=>e.replace(/[\s#$()*+,.?[\\\]^{|}-]/g,"\\$&"),v=(e="BigInt is not available in this environment")=>{if("function"!=typeof BigInt)throw TypeError(e)};class k{constructor(e="",t=0,r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",s="cfhistuCFHISTU"){let a,i;if(this.minLength=t,"number"!=typeof t)throw TypeError(`Hashids: Provided 'minLength' has to be a number (is ${typeof t})`);if("string"!=typeof e)throw TypeError(`Hashids: Provided 'salt' has to be a string (is ${typeof e})`);if("string"!=typeof r)throw TypeError(`Hashids: Provided alphabet has to be a string (is ${typeof r})`);let n=Array.from(e),d=Array.from(r),c=Array.from(s);this.salt=n;let u=l(d);if(u.length<16)throw Error(`Hashids: alphabet must contain at least 16 unique characters, provided: ${u.join("")}`);this.alphabet=o(u,c);let m=h(c,u);this.seps=g(m,n),(0===this.seps.length||this.alphabet.length/this.seps.length>3.5)&&(a=Math.ceil(this.alphabet.length/3.5))>this.seps.length&&(i=a-this.seps.length,this.seps.push(...this.alphabet.slice(0,i)),this.alphabet=this.alphabet.slice(i)),this.alphabet=g(this.alphabet,n);let p=Math.ceil(this.alphabet.length/12);this.alphabet.length<3?(this.guards=this.seps.slice(0,p),this.seps=this.seps.slice(p)):(this.guards=this.alphabet.slice(0,p),this.alphabet=this.alphabet.slice(p)),this.guardsRegExp=y(this.guards),this.sepsRegExp=y(this.seps),this.allowedCharsRegExp=b([...this.alphabet,...this.guards,...this.seps])}encode(e,...t){let r=Array.isArray(e)?e:[...null!=e?[e]:[],...t];return 0===r.length?"":(r.every(d)||(r=r.map(e=>"bigint"==typeof e||"number"==typeof e?e:x(String(e)))),r.every(c))?this._encode(r).join(""):""}decode(e){return e&&"string"==typeof e&&0!==e.length?this._decode(e):[]}encodeHex(e){let t=e;switch(typeof t){case"bigint":t=t.toString(16);break;case"string":if(!/^[\dA-Fa-f]+$/.test(t))return"";break;default:throw Error(`Hashids: The provided value is neither a string, nor a BigInt (got: ${typeof t})`)}let r=f(t,12,e=>Number.parseInt(`1${e}`,16));return this.encode(r)}decodeHex(e){return this.decode(e).map(e=>e.toString(16).slice(1)).join("")}isValidId(e){return this.allowedCharsRegExp.test(e)}_encode(e){let{alphabet:t}=this,r=e.reduce((e,t,r)=>e+("bigint"==typeof t?Number(t%BigInt(r+100)):t%(r+100)),0),s=[t[r%t.length]],a=[...s],{seps:i}=this,{guards:n}=this;if(e.forEach((r,n)=>{let l=a.concat(this.salt,t),o=u(r,t=g(t,l));if(s.push(...o),n+1<e.length){let e=o[0].codePointAt(0)+n,t="bigint"==typeof r?Number(r%BigInt(e)):r%e;s.push(i[t%i.length])}}),s.length<this.minLength){let e=(r+s[0].codePointAt(0))%n.length;if(s.unshift(n[e]),s.length<this.minLength){let e=(r+s[2].codePointAt(0))%n.length;s.push(n[e])}}let l=Math.floor(t.length/2);for(;s.length<this.minLength;){t=g(t,t),s.unshift(...t.slice(l)),s.push(...t.slice(0,l));let e=s.length-this.minLength;if(e>0){let t=e/2;s=s.slice(t,t+this.minLength)}}return s}_decode(e){if(!this.isValidId(e))throw Error(`The provided ID (${e}) is invalid, as it contains characters that do not exist in the alphabet (${this.guards.join("")}${this.seps.join("")}${this.alphabet.join("")})`);let t=e.split(this.guardsRegExp),r=+(3===t.length||2===t.length),s=t[r];if(0===s.length)return[];let a=s[Symbol.iterator]().next().value,i=s.slice(a.length).split(this.sepsRegExp),n=this.alphabet,l=[];for(let e of i){let t=[a,...this.salt,...n],r=g(n,t.slice(0,n.length));l.push(m(Array.from(e),r)),n=r}return this._encode(l).join("")!==e?[]:l}}let w=new k("ip-accounting",6);var N=r(6874),C=r.n(N),I=r(5695);function T(){let[e,t]=i.useState([]),[r,l]=i.useState(!0),[o,h]=i.useState(null),[d,c]=i.useState("asc"),g=(0,I.usePathname)(),u=async()=>{try{let e=await fetch("/api/get_list_users",{method:"GET",headers:{"Content-Type":"application/json"}}),r=(await e.json()).map(e=>({user_id:Number(e.user_id),username:e.username,upload:Number(e.total_tx),download:Number(e.total_rx),total_traffic:Number(e.total_traffic),last_view:new Date(e.last_online)}));t(r)}catch(e){console.error("Error fetching data:",e)}finally{l(!1)}};i.useEffect(()=>{u();let e=setInterval(u,12e4);return()=>clearInterval(e)},[]);let m=i.useMemo(()=>o?[...e].sort((e,t)=>{let r=e[o],s=t[o];return r instanceof Date&&s instanceof Date?"asc"===d?r.getTime()-s.getTime():s.getTime()-r.getTime():"string"==typeof r&&"string"==typeof s?"asc"===d?r.localeCompare(s):s.localeCompare(r):"number"==typeof r&&"number"==typeof s?"asc"===d?r-s:s-r:0}):e,[e,o,d]);return(0,s.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Users"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:[(0,s.jsxs)("svg",{className:"stroke-current fill-white dark:fill-gray-800",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M2.29004 5.90393H17.7067",stroke:"",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M17.7075 14.0961H2.29085",stroke:"",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M12.0826 3.33331C13.5024 3.33331 14.6534 4.48431 14.6534 5.90414C14.6534 7.32398 13.5024 8.47498 12.0826 8.47498C10.6627 8.47498 9.51172 7.32398 9.51172 5.90415C9.51172 4.48432 10.6627 3.33331 12.0826 3.33331Z",fill:"",stroke:"",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M7.91745 11.525C6.49762 11.525 5.34662 12.676 5.34662 14.0959C5.34661 15.5157 6.49762 16.6667 7.91745 16.6667C9.33728 16.6667 10.4883 15.5157 10.4883 14.0959C10.4883 12.676 9.33728 11.525 7.91745 11.525Z",fill:"",stroke:"",strokeWidth:"1.5"})]}),"Filter"]}),(0,s.jsx)("button",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"See all"})]})]}),(0,s.jsx)("div",{className:"max-w-full overflow-x-auto",children:(0,s.jsxs)(a.XI,{children:[(0,s.jsx)(a.A0,{className:"border-gray-100 dark:border-gray-800 border-y",children:(0,s.jsxs)(a.Hj,{children:[(0,s.jsx)(a.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"No."}),(0,s.jsxs)(a.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{console.log(o,d),h("username"),c(e=>"asc"===e?"desc":"asc")},children:["Username ","username"===o&&("asc"===d?"↑":"↓")]}),(0,s.jsxs)(a.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{h("upload"),c(e=>"asc"===e?"desc":"asc")},children:["Upload ","upload"===o&&("asc"===d?"↑":"↓")]}),(0,s.jsxs)(a.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{h("download"),c(e=>"asc"===e?"desc":"asc")},children:["Download ","download"===o&&("asc"===d?"↑":"↓")]}),(0,s.jsxs)(a.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{h("total_traffic"),c(e=>"asc"===e?"desc":"asc")},children:["Total Traffic ","total_traffic"===o&&("asc"===d?"↑":"↓")]}),(0,s.jsxs)(a.nA,{isHeader:!0,className:"py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",onClick:()=>{console.log(o,d),h("last_view"),c(e=>"asc"===e?"desc":"asc")},children:["Last Seen ","last_view"===o&&("asc"===d?"↑":"↓")]})]})}),(0,s.jsx)(a.BF,{className:"divide-y divide-gray-100 dark:divide-gray-800",children:m.map((e,t)=>{var r;return(0,s.jsxs)(a.Hj,{className:"",children:[(0,s.jsxs)(a.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:[t+1,"."]}),(0,s.jsx)(a.nA,{className:"py-3",children:(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:(0,s.jsx)(C(),{href:"".concat(g,"/user/").concat((r=e.user_id,w.encode(r))),children:e.username})})})})}),(0,s.jsx)(a.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(0,n.z)(e.upload)}),(0,s.jsx)(a.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(0,n.z)(e.download)}),(0,s.jsx)(a.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:(0,n.z)(e.total_traffic)}),(0,s.jsx)(a.nA,{className:"py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:function(e){let t=new Date,r=e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate(),s=e=>e.toString().padStart(2,"0"),a=s(e.getUTCHours()),i=s(e.getUTCMinutes()),n=s(e.getUTCSeconds());if(r)return"".concat(a,":").concat(i,":").concat(n);let l=e.getUTCFullYear(),o=s(e.getUTCMonth()+1),h=s(e.getUTCDate());return"".concat(l,"-").concat(o,"-").concat(h," ").concat(a,":").concat(i,":").concat(n)}(e.last_view)})]},t)})})]})})]})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6842:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>n,Hj:()=>l,XI:()=>a,nA:()=>o});var s=r(5155);r(2115);let a=e=>{let{children:t,className:r}=e;return(0,s.jsx)("table",{className:"min-w-full  ".concat(r),children:t})},i=e=>{let{children:t,className:r}=e;return(0,s.jsx)("thead",{className:r,children:t})},n=e=>{let{children:t,className:r}=e;return(0,s.jsx)("tbody",{className:r,children:t})},l=e=>{let{children:t,className:r}=e;return(0,s.jsx)("tr",{className:r,children:t})},o=e=>{let{children:t,isHeader:r=!1,className:a,onClick:i}=e,n=r?"th":"td";return i?(0,s.jsx)(n,{className:"cursor-pointer ".concat(a),onClick:i,children:t}):(0,s.jsx)(n,{className:" ".concat(a),children:t})}},9119:(e,t,r)=>{"use strict";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e>=0x10000000000?(e/0x10000000000).toFixed(t)+" TiB":e>=0x40000000?(e/0x40000000).toFixed(t)+" GiB":e>=1048576?(e/1048576).toFixed(t)+" MiB":e>=1024?(e/1024).toFixed(t)+" KiB":e+" B"}r.d(t,{z:()=>s})},9585:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,962))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(9585)),_N_E=e.O()}]);